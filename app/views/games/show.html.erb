<h1>Game <%= @game.id %></h1>
<%= link_to "< Back to Games", :controller => "games", :action => "index" %>
<div class="card-grid">
  <!-- Draw all cards -->
  <% @game.cardArray().each do |card| %>
    <div class="card-container">
      <div class="card <%= cardClasses(card) %>">
        <!-- Card shape is drawn using an an svg repeated count times-->
        <% (1..cardCount(card)).each do |i| %>
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:serif="http://www.serif.com/" width="100%" height="100%" viewBox="0 0 100 50" version="1.1" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
            <!-- Draw a different path for different shapes -->
            <% if cardShapeIsDiamond(card) %>
              <path d="M2.503,25L50,2.503L97.497,25L50,47.497L2.503,25Z" />
            <% elsif cardShapeIsPill(card) %>
              <path d="M6.471,46.048C1.071,40.015 -0.894,15.502 14.324,7.961C29.542,0.42 45.891,15.299 63.243,13.665C85.121,11.605 88.019,-2.318 94.447,4.248C99.931,9.851 99.375,33.588 81.369,40.674C60.291,48.969 50.863,38.406 37.491,37.904C21.296,37.296 11.871,52.08 6.471,46.048Z" />
            <% elsif cardShapeIsSwiggly(card) %>
              <path d="M97.497,25C97.497,12.583 87.756,2.503 75.757,2.503L24.243,2.503C12.244,2.503 2.503,12.583 2.503,25C2.503,37.417 12.244,47.497 24.243,47.497L75.757,47.497C87.756,47.497 97.497,37.417 97.497,25Z" />
            <% end %>
            <!-- Stripes pattern -->
            <pattern width="2" height="2" patternUnits="userSpaceOnUse">
              <line x1="0" y1="0" x2="0" y2="2" />
            </pattern>
          </svg>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<!-- Stripes patterns -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:serif="http://www.serif.com/" width="0px" height="0px" viewBox="0 0 0 0" version="1.1" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
  <% (0..2).each do |i| %>
    <pattern id="stripes-pattern-<%= i %>" width="4" height="4" patternUnits="userSpaceOnUse">
      <line x1="0" y1="0" x2="0" y2="4" stroke-width="2" />
    </pattern>
  <% end %>
</svg>